<?php
/**
 * Test for AssankaLoggerV1
 *
 * @codingstandard ftlabs-phpcs
 * @copyright The Financial Times Limited [All rights reserved]
 */


class loggerTest extends PHPUnit_Framework_TestCase {
	public function testConstructor() {
		$logger = new AssankaLoggerV1("testlogger");
		$this->assertNotNull($logger);
	}

	public function testSwitchingToUnknownLoggingType() {
		$logger = new AssankaLoggerV1("testlogger");
		$this->setExpectedException('AssankaException', "Unknown log method magic");
		$logger->setLogMethod("magic");
	}

	public function testCantWriteObjectToLog() {
		$logger = new AssankaLoggerV1("testlogger");
		$this->setExpectedException('AssankaException', "Can only write strings or arrays to log.");
		$logger->write(new stdClass());
	}
}